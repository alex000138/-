{% extends "base.html" %}

{% block scripts %}
<!-- –í—ã–Ω–µ—Å–µ–º JS –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —á–∞—Å—Ç–∏—á–Ω—ã–π —à–∞–±–ª–æ–Ω -->
{% include '_variety_scripts.html' %}
{% endblock %}

{% block content %}
<div class="container grid-layout">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    {% include '_nav_panel.html' %}

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
        <!-- –ü–æ–∏—Å–∫ -->
        <section class="card">
            <h2 class="card__title">–ü–æ–∏—Å–∫ —Å–æ—Ä—Ç–æ–≤</h2>
            <form class="search-form" method="get" action="{{ url_for('main.index') }}">
                <input type="search" name="query"
                       class="search-input"
                       placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ—Ä—Ç–∞..."
                       value="{{ query }}">
                <button type="submit" class="btn-search">üîç –ù–∞–π—Ç–∏</button>
            </form>
        </section>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
        {% if results %}
        <section class="card">
            <h2 class="card__title">–ù–∞–π–¥–µ–Ω–æ: {{ results|length }}</h2>
            <div class="search-results">
                {% for result in results %}
                <a href="#variety-{{ result.id }}"
                   class="result-item"
                   data-variety-id="{{ result.id }}"
                   onclick="loadVarietyInfo({{ result.id }})">
                    {{ result.name_main }} <small>({{ result.type_main }})</small>
                </a>
                {% endfor %}
            </div>
        </section>
        {% endif %}

        <!-- –î–µ—Ç–∞–ª–∏ —Å–æ—Ä—Ç–∞ -->
        <section class="card">
            <h2 class="card__title">–î–µ—Ç–∞–ª–∏ —Å–æ—Ä—Ç–∞</h2>
            <div id="dynamic-info" class="variety-details">
                <p class="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ä—Ç –∏–∑ —Å–ø–∏—Å–∫–∞</p>
            </div>
        </section>
    </main>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    {% include '_side_panel.html' %}
</div>
{% endblock %}